BASE_OPTS="-XX:MaxRAMPercentage=70"
OOM_HEAP_OPTS="-XX:+HeapDumpOnOutOfMemoryError"
# to include gc logs append ` ${GC_OPTS}` to JAVA_OPTS
GC_OPTS="-Xlog:gc:file=gc.log:time,pid:filecount=1,filesize=512m"
# to enable jmx to allow triggering a heap dump java visualvm append ` ${JMX_OPTS}` to JAVA_OPTS
JMX_OPTS="-Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=false -Dcom.sun.management.jmxremote.local.only=false -Dcom.sun.management.jmxremote.port=1099 -Dcom.sun.management.jmxremote.rmi.port=1099 -Djava.rmi.server.hostname=127.0.0.1"
JAVA_OPTS="${BASE_OPTS} ${OOM_HEAP_OPTS}"
